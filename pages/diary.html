<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <title>–î–Ω–µ–≤–Ω–∏–∫</title>
  <link rel="stylesheet" href="../css/style.css" />
</head>
<body>
<a class="skip-link" href="#main">–ü–µ—Ä–µ–π—Ç–∏ –∫ –æ—Å–Ω–æ–≤–Ω–æ–º—É —Å–æ–¥–µ—Ä–∂–∏–º–æ–º—É</a>

<header class="header">
  <div class="logo">üíª</div>
  <h1>–ö–æ–Ω—Å—Ç–∞–Ω—Ç–∏–Ω–æ–≤ –ê–Ω—Ç–æ–Ω –ê–ª–µ–∫—Å–µ–µ–≤–∏—á</h1>
  <nav class="nav" aria-label="–û—Å–Ω–æ–≤–Ω–∞—è –Ω–∞–≤–∏–≥–∞—Ü–∏—è">
    <a href="../index.html">–ì–ª–∞–≤–Ω–∞—è</a>
    <a href="projects.html">–ü—Ä–æ–µ–∫—Ç—ã</a>
    <a href="diary.html" class="current">–î–Ω–µ–≤–Ω–∏–∫</a>
    <a href="contacts.html">–ö–æ–Ω—Ç–∞–∫—Ç—ã</a>
  </nav>
</header>

<main id="main" class="main">
  <div class="main-content">
    <h2>–ú–æ–π —É—á–µ–±–Ω—ã–π –ø—Ä–æ–≥—Ä–µ—Å—Å</h2>

    <div class="add-entry-form" id="addEntryForm" style="display: none;">
      <h3>–î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—É—é –∑–∞–ø–∏—Å—å</h3>
      <form id="newEntryForm">
        <div class="form-group">
          <label for="entryDate">–î–∞—Ç–∞:</label>
          <input type="date" id="entryDate" name="entryDate" required />
        </div>
        <div class="form-group">
          <label for="entryTitle">–ó–∞–≥–æ–ª–æ–≤–æ–∫:</label>
          <input type="text" id="entryTitle" name="entryTitle" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: –ò–∑—É—á–µ–Ω–∏–µ React" required />
        </div>
        <div class="form-group">
          <label for="entryDescription">–û–ø–∏—Å–∞–Ω–∏–µ:</label>
          <textarea id="entryDescription" name="entryDescription" rows="4" placeholder="–û–ø–∏—à–∏—Ç–µ —á—Ç–æ –≤—ã –∏–∑—É—á–∏–ª–∏ –∏–ª–∏ —Å–¥–µ–ª–∞–ª–∏..." required></textarea>
        </div>
        <div class="form-group">
          <label for="entryStatus">–°—Ç–∞—Ç—É—Å:</label>
          <select id="entryStatus" name="entryStatus">
            <option value="completed">–ó–∞–≤–µ—Ä—à–µ–Ω–æ ‚úì</option>
            <option value="in-progress">–í –ø—Ä–æ—Ü–µ—Å—Å–µ</option>
            <option value="planned">–ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–æ</option>
          </select>
        </div>
        <div class="form-buttons">
          <button type="submit" class="btn">–î–æ–±–∞–≤–∏—Ç—å –∑–∞–ø–∏—Å—å</button>
          <button type="button" class="btn btn-secondary" onclick="hideAddForm()">–û—Ç–º–µ–Ω–∞</button>
        </div>
      </form>
    </div>

    <ul class="diary-entries" id="diaryEntries">
      <li>
        <span class="entry-date">07 —Å–µ–Ω</span>
        <span class="entry-title">–í–µ—Ä—Å—Ç–∫–∞ –º–∞–∫–µ—Ç–∞ —Å–∞–π—Ç–∞</span>
        <span class="entry-status completed">‚úì</span>
      </li>
      <li>
        <span class="entry-date">20 —Å–µ–Ω</span>
        <span class="entry-title">JavaScript –æ—Å–Ω–æ–≤—ã</span>
        <span class="entry-status completed">‚úì</span>
      </li>
      <li>
        <span class="entry-date">05 –æ–∫—Ç</span>
        <span class="entry-title">–†–∞–±–æ—Ç–∞ —Å —Ñ–æ—Ä–º–∞–º–∏</span>
        <span class="entry-status in-progress">in progress</span>
      </li>
      <li>
        <span class="entry-date">15 –æ–∫—Ç</span>
        <span class="entry-title">–ê–¥–∞–ø—Ç–∏–≤–Ω—ã–π –¥–∏–∑–∞–π–Ω</span>
        <span class="entry-status in-progress">in progress</span>
      </li>
      <li>
        <span class="entry-date">25 –æ–∫—Ç</span>
        <span class="entry-title">React –æ—Å–Ω–æ–≤—ã</span>
        <span class="entry-status in-progress">in progress</span>
      </li>
    </ul>

    <h3>–¢–µ–∫—É—â–∏–µ –∫—É—Ä—Å—ã</h3>
    <div class="courses-grid">
      <div class="course"><span>–í–µ–±-—Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞</span><div class="bar"><div style="width:90%"></div></div>90%</div>
      <div class="course"><span>JavaScript</span><div class="bar"><div style="width:70%"></div></div>70%</div>
      <div class="course"><span>C#</span><div class="bar"><div style="width:50%"></div></div>50%</div>
      <div class="course"><span>Node.js</span><div class="bar"><div style="width:30%"></div></div>30%</div>
    </div>

    <div class="add-btn-container">
      <button class="btn" onclick="showAddForm()">–î–æ–±–∞–≤–∏—Ç—å –∑–∞–ø–∏—Å—å</button>
    </div>
  </div>
</main>

<footer class="footer">
  <p>¬© 2025 –ö–æ–Ω—Ç–∞–∫—Ç—ã</p>
</footer>

<script>
  // –§—É–Ω–∫—Ü–∏–∏ –¥–ª—è –ø–æ–∫–∞–∑–∞/—Å–∫—Ä—ã—Ç–∏—è —Ñ–æ—Ä–º—ã
  function showAddForm() {
    document.getElementById('addEntryForm').style.display = 'block';
    document.getElementById('entryDate').valueAsDate = new Date();
  }

  function hideAddForm() {
    document.getElementById('addEntryForm').style.display = 'none';
    document.getElementById('newEntryForm').reset();
  }

  // –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏ —Ñ–æ—Ä–º—ã
  document.getElementById('newEntryForm').addEventListener('submit', function(e) {
    e.preventDefault();

    const date = document.getElementById('entryDate').value;
    const title = document.getElementById('entryTitle').value;
    const description = document.getElementById('entryDescription').value;
    const status = document.getElementById('entryStatus').value;

    // –§–æ—Ä–º–∞—Ç–∏—Ä—É–µ–º –¥–∞—Ç—É
    const formattedDate = formatDate(date);
    addNewEntry(formattedDate, title, description, status);
    hideAddForm();
    showNotification('–ó–∞–ø–∏—Å—å —É—Å–ø–µ—à–Ω–æ –¥–æ–±–∞–≤–ª–µ–Ω–∞!');
  });

  // –§—É–Ω–∫—Ü–∏—è –¥–ª—è —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –¥–∞—Ç—ã
  function formatDate(dateString) {
    const date = new Date(dateString);
    const day = date.getDate();
    const month = getMonthName(date.getMonth());
    return `${day} ${month}`;
  }

  // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –Ω–∞–∑–≤–∞–Ω–∏—è –º–µ—Å—è—Ü–∞
  function getMonthName(monthIndex) {
    const months = [
      '—è–Ω–≤', '—Ñ–µ–≤', '–º–∞—Ä', '–∞–ø—Ä', '–º–∞–π', '–∏—é–Ω',
      '–∏—é–ª', '–∞–≤–≥', '—Å–µ–Ω', '–æ–∫—Ç', '–Ω–æ—è', '–¥–µ–∫'
    ];
    return months[monthIndex];
  }

  // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –Ω–æ–≤–æ–π –∑–∞–ø–∏—Å–∏
  function addNewEntry(date, title, description, status) {
    const entriesList = document.getElementById('diaryEntries');

    const newEntry = document.createElement('li');
    newEntry.innerHTML = `
    <span class="entry-date">${date}</span>
    <span class="entry-title">${title}</span>
    <span class="entry-description">${description}</span>
    <span class="entry-status ${getStatusClass(status)}">${getStatusText(status)}</span>
    <button class="delete-btn" onclick="deleteEntry(this)">√ó</button>`;
    entriesList.insertBefore(newEntry, entriesList.firstChild);
  }

  // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –∫–ª–∞—Å—Å–∞ —Å—Ç–∞—Ç—É—Å–∞
  function getStatusClass(status) {
    switch(status) {
      case 'completed': return 'completed';
      case 'in-progress': return 'in-progress';
      case 'planned': return 'planned';
      default: return 'in-progress';
    }
  }

  // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Ç–µ–∫—Å—Ç–∞ —Å—Ç–∞—Ç—É—Å–∞
  function getStatusText(status) {
    switch(status) {
      case 'completed': return '‚úì';
      case 'in-progress': return 'in progress';
      case 'planned': return 'planned';
      default: return 'in progress';
    }
  }

  // –§—É–Ω–∫—Ü–∏—è –¥–ª—è —É–¥–∞–ª–µ–Ω–∏—è –∑–∞–ø–∏—Å–∏
  function deleteEntry(button) {
    if (confirm('–í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ —É–¥–∞–ª–∏—Ç—å —ç—Ç—É –∑–∞–ø–∏—Å—å?')) {
      const entry = button.parentElement;
      entry.style.opacity = '0';
      setTimeout(() => {
        entry.remove();
        showNotification('–ó–∞–ø–∏—Å—å —É–¥–∞–ª–µ–Ω–∞!');
      }, 300);
    }
  }

  // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –ø–æ–∫–∞–∑–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
  function showNotification(message) {
    const notification = document.createElement('div');
    notification.className = 'notification';
    notification.textContent = message;
    notification.style.cssText = `
    position: fixed;
    top: 20px;
    right: 20px;
    background: #28a745;
    color: white;
    padding: 1rem 1.5rem;
    border-radius: 8px;
    box-shadow: 0 4px 12px rgba(0,0,0,0.2);
    z-index: 1000;
    animation: slideIn 0.3s ease;
  `;

    document.body.appendChild(notification);

    // –£–¥–∞–ª—è–µ–º —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ —á–µ—Ä–µ–∑ 3 —Å–µ–∫—É–Ω–¥—ã
    setTimeout(() => {
      notification.style.animation = 'slideOut 0.3s ease';
      setTimeout(() => {
        document.body.removeChild(notification);
      }, 300);
    }, 3000);
  }

  // –î–æ–±–∞–≤–ª—è–µ–º —Å—Ç–∏–ª–∏ –¥–ª—è –∞–Ω–∏–º–∞—Ü–∏–π
  const style = document.createElement('style');
  style.textContent = `
  @keyframes slideIn {
    from { transform: translateX(100%); opacity: 0; }
    to { transform: translateX(0); opacity: 1; }
  }

  @keyframes slideOut {
    from { transform: translateX(0); opacity: 1; }
    to { transform: translateX(100%); opacity: 0; }
  }
`;
  document.head.appendChild(style);
</script>
</body>
</html>
